<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>게시글 작성 - Community</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/custom.css" />
  </head>
  <body data-page="posts-create">
    <!-- Header Component -->
    <header id="app-header"></header>

    <!-- Main Content -->
    <main class="container py-4">
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <!-- Page Title -->
          <h2 class="text-center mb-4">게시글 작성</h2>

          <!-- Post Create Form -->
          <form id="post-create-form">
            <!-- Title Input -->
            <div class="mb-3">
              <label for="title" class="form-label">
                제목 <span class="text-danger">*</span>
              </label>
              <input
                type="text"
                class="form-control"
                id="title"
                name="title"
                placeholder="제목을 입력하세요"
                maxlength="26"
                required
                data-validate="title"
              />
              <div class="invalid-feedback"></div>
              <div class="form-text">
                <span id="title-char-count">0</span> / 26자
              </div>
            </div>

            <!-- Content Textarea -->
            <div class="mb-3">
              <label for="content" class="form-label">
                내용 <span class="text-danger">*</span>
              </label>
              <textarea
                class="form-control"
                id="content"
                name="content"
                rows="10"
                placeholder="내용을 입력하세요"
                maxlength="5000"
                required
                data-validate="content"
              ></textarea>
              <div class="invalid-feedback"></div>
              <div class="form-text">
                <span id="content-char-count">0</span> / 5000자
              </div>
            </div>

            <!-- Image Upload -->
            <div class="mb-3">
              <label class="form-label">
                이미지 <span class="text-muted">(선택사항, 최대 5개)</span>
              </label>

              <!-- Hidden File Input -->
              <input
                type="file"
                class="d-none"
                id="postImages"
                name="postImages"
                accept=".webp,.jpg,.jpeg,.png"
                multiple
              />

              <!-- Custom Upload Button -->
              <div class="d-flex align-items-center gap-2 mb-2">
                <button
                  type="button"
                  class="btn btn-outline-primary"
                  id="upload-btn"
                >
                  <i class="bi bi-image me-1"></i>
                  이미지 선택
                </button>
                <span class="text-muted small" id="image-count-text">
                  0 / 5개 선택됨
                </span>
              </div>

              <div class="form-text">
                <i class="bi bi-info-circle me-1"></i>
                WEBP, JPG, JPEG, PNG 형식의 이미지를 업로드할 수 있습니다
              </div>

              <!-- Image Preview Container -->
              <div id="image-preview-container" class="mt-3 d-none">
                <div
                  id="image-preview-list"
                  class="d-flex flex-wrap gap-2"
                ></div>
              </div>
            </div>

            <!-- 메시지 영역 (에러/성공) -->
            <div id="form-message" class="small mb-3"></div>

            <!-- Form Actions -->
            <div class="d-flex gap-2 justify-content-end">
              <button type="button" class="btn btn-secondary" id="cancel-btn">
                <i class="bi bi-x-circle me-1"></i>
                취소
              </button>
              <button type="submit" class="btn btn-primary" id="submit-btn">
                <i class="bi bi-check-circle me-1"></i>
                완료
              </button>
            </div>
          </form>
        </div>
      </div>
    </main>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Footer Component -->
    <footer></footer>

    <!-- Page Script -->
    <script type="module" src="/js/pages/posts/create.js"></script>
  </body>
</html>
