<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>컴포넌트 예제 - Community</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/custom.css" />
  </head>
  <body data-page="component-example">
    <!-- Header Component -->
    <header></header>

    <!-- Main Content -->
    <main class="container py-5">
      <div class="row">
        <div class="col-lg-8 mx-auto">
          <h1 class="display-5 fw-bold mb-4">공용 컴포넌트 예제</h1>
          <p class="lead text-muted mb-5">
            Bootstrap 5.3.8 기반으로 리팩토링된 공용 컴포넌트들을
            테스트해보세요.
          </p>

          <!-- Modal Examples -->
          <div class="card mb-4">
            <div class="card-header bg-primary text-white">
              <h5 class="mb-0"><i class="bi bi-window"></i> Modal 컴포넌트</h5>
            </div>
            <div class="card-body">
              <p class="text-muted">
                alert, confirm, prompt를 대체하는 Bootstrap Modal
              </p>
              <div class="d-flex gap-2 flex-wrap">
                <button id="btn-alert" class="btn btn-primary">
                  Alert 테스트
                </button>
                <button id="btn-confirm" class="btn btn-warning">
                  Confirm 테스트
                </button>
                <button id="btn-prompt" class="btn btn-info">
                  Prompt 테스트
                </button>
              </div>
            </div>
          </div>

          <!-- Toast Examples -->
          <div class="card mb-4">
            <div class="card-header bg-success text-white">
              <h5 class="mb-0">
                <i class="bi bi-chat-square-text"></i> Toast 컴포넌트
              </h5>
            </div>
            <div class="card-body">
              <p class="text-muted">가벼운 알림 메시지</p>
              <div class="d-flex gap-2 flex-wrap">
                <button id="btn-toast-success" class="btn btn-success">
                  성공 메시지
                </button>
                <button id="btn-toast-info" class="btn btn-info">
                  정보 메시지
                </button>
                <button id="btn-toast-warning" class="btn btn-warning">
                  경고 메시지
                </button>
              </div>
            </div>
          </div>

          <!-- Header Info -->
          <div class="card mb-4">
            <div class="card-header bg-dark text-white">
              <h5 class="mb-0">
                <i class="bi bi-layout-navbar"></i> Header 컴포넌트
              </h5>
            </div>
            <div class="card-body">
              <p class="text-muted">상단의 네비게이션 헤더를 확인하세요.</p>
              <ul class="list-unstyled">
                <li>✓ 뒤로가기 버튼</li>
                <li>✓ 브랜드 로고 (클릭 시 홈으로 이동)</li>
                <li>✓ 프로필 드롭다운 메뉴</li>
                <li>✓ 로그아웃 기능</li>
              </ul>
            </div>
          </div>

          <!-- Footer Info -->
          <div class="card mb-4">
            <div class="card-header bg-secondary text-white">
              <h5 class="mb-0">
                <i class="bi bi-layout-footer"></i> Footer 컴포넌트
              </h5>
            </div>
            <div class="card-body">
              <p class="text-muted">
                하단의 푸터를 확인하세요. 페이지 하단에 고정됩니다.
              </p>
              <ul class="list-unstyled">
                <li>✓ 브랜드 정보</li>
                <li>✓ 바로가기 링크</li>
                <li>✓ 저작권 정보</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer Component -->
    <footer></footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Page Script -->
    <script type="module">
      import { initHeader } from "/js/components/header.js";
      import { initFooter } from "/js/components/footer.js";
      import { Modal } from "/js/components/modal.js";
      import { Toast } from "/js/components/toast.js";

      const PAGE_ID = "component-example";

      // 페이지 초기화
      async function init() {
        // 헤더 초기화
        await initHeader(PAGE_ID);

        // 푸터 초기화
        await initFooter();

        // Modal 버튼 이벤트
        document
          .getElementById("btn-alert")
          .addEventListener("click", async () => {
            await Modal.alert("알림", "이것은 Alert 모달입니다!");
          });

        document
          .getElementById("btn-confirm")
          .addEventListener("click", async () => {
            const confirmed = await Modal.confirm(
              "확인",
              "정말로 실행하시겠습니까?"
            );
            if (confirmed) {
              await Toast.show("확인을 선택했습니다");
            } else {
              await Toast.show("취소를 선택했습니다");
            }
          });

        document
          .getElementById("btn-prompt")
          .addEventListener("click", async () => {
            const value = await Modal.prompt(
              "입력",
              "이름을 입력하세요",
              "홍길동"
            );
            if (value !== null) {
              await Toast.show(`입력값: ${value}`);
            }
          });

        // Toast 버튼 이벤트
        document
          .getElementById("btn-toast-success")
          .addEventListener("click", () => {
            Toast.show("✓ 작업이 성공적으로 완료되었습니다");
          });

        document
          .getElementById("btn-toast-info")
          .addEventListener("click", () => {
            Toast.show("ℹ 새로운 정보가 있습니다");
          });

        document
          .getElementById("btn-toast-warning")
          .addEventListener("click", () => {
            Toast.show("⚠ 주의가 필요합니다");
          });
      }

      // 페이지 로드 시 초기화
      if (document.readyState === "loading") {
        document.addEventListener("DOMContentLoaded", init);
      } else {
        init();
      }
    </script>
  </body>
</html>
